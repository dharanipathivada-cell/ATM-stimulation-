#include <stdio.h>   // Standard input-output library
#include <stdlib.h>  // For exit() function

int main() {
    int choice;               // To store user's menu choice
    float balance = 10000.0;  // Initial account balance
    float amount;             // Amount to deposit or withdraw
    int pin, enteredPin;      // To store actual and entered PIN

    pin = 1234;  // Set your ATM PIN here

    printf("********************\n");
    printf("   WELCOME TO ATM   \n");
    printf("********************\n\n");

    printf("Enter your 4-digit PIN: ");
    scanf("%d", &enteredPin);   // Take PIN input from user

    if (enteredPin != pin) {    // Check if the entered PIN is correct
        printf("Incorrect PIN! Access Denied.\n");
        exit(0);                // Exit program if PIN is wrong
    }

    while (1) {   // Infinite loop until user chooses to exit
        printf("\n========= ATM MENU =========\n");
        printf("1. Check Balance\n");
        printf("2. Deposit Money\n");
        printf("3. Withdraw Money\n");
        printf("4. Exit\n");
        printf("============================\n");
        printf("Enter your choice: ");
        scanf("%d", &choice);

        switch (choice) {   // Switch-case to handle user's choice
            case 1:
                printf("\nYour current balance is: ₹%.2f\n", balance);
                break;

            case 2:
                printf("\nEnter amount to deposit: ₹");
                scanf("%f", &amount);
                if (amount <= 0)
                    printf("Invalid deposit amount!\n");
                else {
                    balance += amount;   // Add deposit to balance
                    printf("₹%.2f deposited successfully!\n", amount);
                    printf("Updated balance: ₹%.2f\n", balance);
                }
                break;

            case 3:
                printf("\nEnter amount to withdraw: ₹");
                scanf("%f", &amount);
                if (amount <= 0)
                    printf("Invalid withdrawal amount!\n");
                else if (amount > balance)
                    printf("Insufficient balance!\n");
                else {
                    balance -= amount;   // Subtract withdrawal from balance
                    printf("₹%.2f withdrawn successfully!\n", amount);
                    printf("Remaining balance: ₹%.2f\n", balance);
                }
                break;

            case 4:
                printf("\nThank you for using our ATM. Have a great day!\n");
                exit(0);   // Exit the program safely

            default:
                printf("Invalid choice! Please try again.\n");
        }
    }

    return 0;  // End of program
}